# Token Generator Tool

This utility allows you to generate new authentication tokens for the (backend) user.

## Overview

The Token Generator is a standalone executable that:
- Creates new tokens with username binding
- Securely hashes and stores them in the auth.db database
- Saves plaintext tokens to the /tokens directory for distribution
- Works with the same authentication system as the main application

## Installation

The Token Generator is included in the MinimalSQLReader release package in the `/Tools` directory.

### Manual Building

If you need to build it manually:

1. Ensure the main MinimalSQLReader project is built first
2. Place the TokenGenerator.cs and TokenGenerator.csproj files in a new project folder
3. Build using `dotnet build -c Release`

Or use the provided BuildTokenGenerator.ps1 script which handles the entire build process.

## Usage

### Command-Line Usage

```bash
# Generate token with default machine name as username
TokenGenerator.exe

# Generate token for specific username
TokenGenerator.exe john.doe
```

### Interactive Usage

1. Run TokenGenerator.exe
2. When prompted, enter a username (or leave blank for machine name)
3. The tool will generate a token and display:
   - The username
   - The generated token
   - The path to the token file

## Output Example

```
ðŸ”‘ MinimalSQLReader Token Generator
=================================
Generating token for user: john.doe
âœ… Token generation successful!
Username: john.doe
Token: 7f8d3e2a-6c5b-4e1d-9f8a-3b2c1d0e9f8a
Token file: C:\MinimalSQLReader\tokens\john.doe.txt
```

## Integration

The Token Generator works with the same auth.db database as the main application. This means:

1. Tokens generated by this tool are immediately usable with the API
2. No restart of the main application is required
3. Token files are saved in the same location as those generated by the main app

## Security Notes

- Keep the Token Generator in a secure location with restricted access
- Distribute generated tokens securely to authorized users
- Consider periodically rotating tokens for sensitive environments